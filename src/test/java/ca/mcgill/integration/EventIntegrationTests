    import com.fasterxml.jackson.databind.ObjectMapper;
    import org.junit.jupiter.api.Test;
    import org.springframework.beans.factory.annotation.Autowired;
    import org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;
    import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;
    import org.springframework.http.MediaType;
    import org.springframework.test.web.servlet.MockMvc;
    import org.springframework.test.web.servlet.ResultActions;
    import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;
    import org.springframework.test.web.servlet.result.MockMvcResultMatchers;
    import org.springframework.test.web.servlet.setup.MockMvcBuilders;
    import org.springframework.web.context.WebApplicationContext;

    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;

    @DataJpaTest
    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)
    public class EventIntegrationTests {

        private MockMvc mockMvc;

        @Autowired
        private WebApplicationContext context;

        @Autowired
        private ObjectMapper objectMapper;

        @Autowired
        private EventRepository eventRepository;

        private Event createEvent() {
            Event event = new Event();
            event.setName("Test Event");
            event.setLocation("Test Location");
            event.setDate("2023-02-20");
            event.setTime("12:00 PM");
            event.setDescription("Test Description");
            return event;
        }

        private ResultActions createEventRequest(Event event) throws Exception {
            return mockMvc.perform(MockMvcRequestBuilders.post("/events")
                    .contentType(MediaType.APPLICATION_JSON)
                    .content(objectMapper.writeValueAsString(event)))
                    .andExpect(status().isOk());
        }

        @Test
        public void testCreateEvent() throws Exception {
            mockMvc = MockMvcBuilders.webAppContextSetup(context).build();

            Event event = createEvent();
            createEventRequest(event);

            Event savedEvent = eventRepository.findById(1L).orElse(null);
            assert savedEvent != null;
            assert savedEvent.getName().equals(event.getName());
            assert savedEvent.getLocation().equals(event.getLocation());
            assert savedEvent.getDate().equals(event.getDate());
            assert savedEvent.getTime().equals(event.getTime());
            assert savedEvent.getDescription().equals(event.getDescription());
        }

        @Test
        public void testGetEventById() throws Exception {
            mockMvc = MockMvcBuilders.webAppContextSetup(context).build();

            Event event = createEvent();
            createEventRequest(event);

            mockMvc.perform(MockMvcRequestBuilders.get("/events/1"))
                    .andExpect(status().isOk())
                    .andExpect(MockMvcResultMatchers.jsonPath("$.name").value(event.getName()))
                    .andExpect(MockMvcResultMatchers.jsonPath("$.location").value(event.getLocation()))
                    .andExpect(MockMvcResultMatchers.jsonPath("$.date").value(event.getDate()))
                    .andExpect(MockMvcResultMatchers.jsonPath("$.time").value(event.getTime()))
                    .andExpect(MockMvcResultMatchers.jsonPath("$.description").value(event.getDescription()));
        }

        @Test
        public void testUpdateEvent() throws Exception {
            mockMvc = MockMvcBuilders.webAppContextSetup(context).build();

            Event event = createEvent();
            createEventRequest(event);

            Event updatedEvent = new Event();
            updatedEvent.setName("Updated Test Event");
            updatedEvent.setLocation("Updated Test Location");
            updatedEvent.setDate("2023-02-21");
            updatedEvent.setTime("1:00 PM");
            updatedEvent.setDescription("Updated Test Description");

            mockMvc.perform(MockMvcRequestBuilders.put("/events/1")
                    .contentType(MediaType.APPLICATION_JSON)
                    .content(objectMapper.writeValueAsString(updatedEvent)))
                    .andExpect(status().isOk());

            Event savedEvent = eventRepository.findById(1L).orElse(null);
            assert savedEvent != null;
            assert savedEvent.getName().equals(updatedEvent.getName());
            assert savedEvent.getLocation().equals(updatedEvent.getLocation());
            assert savedEvent.getDate().equals(updatedEvent.getDate());
            assert savedEvent.getTime().equals(updatedEvent.getTime());
                updatedEvent.setDescription("Updated Test Description");

        mockMvc.perform(MockMvcRequestBuilders.put("/events/1")
                .contentType(MediaType.APPLICATION_JSON)
                .content(objectMapper.writeValueAsString(updatedEvent)))
                .andExpect(status().isOk());

        Event savedEvent = eventRepository.findById(1L).orElse(null);
        assert savedEvent != null;
        assert savedEvent.getName().equals(updatedEvent.getName());
        assert savedEvent.getLocation().equals(updatedEvent.getLocation());
        assert savedEvent.getDate().equals(updatedEvent.getDate());
        assert savedEvent.getTime().equals(updatedEvent.getTime());
        assert savedEvent.getDescription().equals(updatedEvent.getDescription());
    }

    @Test
    public void testDeleteEvent() throws Exception {
        mockMvc = MockMvcBuilders.webAppContextSetup(context).build();

        Event event = createEvent();
        createEventRequest(event);

        mockMvc.perform(MockMvcRequestBuilders.delete("/events/1"))
                .andExpect(status().isOk());

        assert eventRepository.findById(1L).orElse(null) == null;
    }
}
        
